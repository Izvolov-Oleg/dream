# API-gateway for dream
Данный API-gateway работает с сервисом "badlisted-words".
API-gateway выполен как REST-сервис который отправляет запрос в необходимый сервис, после сохраняет запрос (в данном случае пока в "badlisted-words") и ответ в БД, и возвращает ответ наружу.

REST - выполнен на базе fastapi, подключение к БД(PostgreSQL) через SQLAlchemy, клиент для запросов к внутреннми сервисам реализован на aiohttp. Все работает асинхронно.

Для запуска необходимо в директории "api_gateway":
1. Создать файл ".env" (или переименовать ".env.example"), прописать в нем необходимые переменные окружения:
- DATABASE_URL - url для подключения к БД (в данном случае postgresql);
- BAD_WORDS_SERVICE_URL= url для подключения к сервису "badlisted-words";
- POSTGRES_USER, POSTGRES_PASSWORD, POSTGRES_DB - данные для создания пользователя и базы данных в контейнере с БД.

2. Далее можно запустить из корневой директории
```shell
docker-compose up -d
```

Для работы со OpenAPI перейти по адрессу "0.0.0.0:8000/docs"
